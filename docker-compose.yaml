services:
  openclaw:
    build: .
    volumes:
      - ./openclaw-config:/home/node/.openclaw
    ports:
      - "18789:18789"
      - "18790:18790"
    environment:
      - NODE_ENV=production
      - OPENCLAW_SKIP_SERVICE_CHECK=true
    restart: unless-stopped

  socat-proxy:
    image: alpine/socat
    container_name: openclaw-socat
    restart: unless-stopped
    network_mode: "service:openclaw"
    command: "TCP-LISTEN:18790,fork,bind=0.0.0.0,reuseaddr TCP:127.0.0.1:18789"